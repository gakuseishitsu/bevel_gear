# Klingelnberg (Cyclo-Palloid) spiral bevel gear

## はじめに
クリンゲルンベルグ社のサイクロパロイド方式のスパイラルベベルギアはオクトイドの一種<sup>[1](#ref1)</sup>で歯の高さが歯すじ方向で一定で(等高歯)で歯すじがトロコイド曲線になっているスパイラルベベルギアである.  
歯切りはこれ<sup>[2](#ref2)</sup>をみるとよくわかる.  

通常のインボリュート平歯車と異なり汎用の3DCADで簡単に自動生成できないため勉強もかねてモデリング方法をまとめる.  本記事の対象者は数年後にすべてを忘れた自分であるため万人向けではない.  

仮想王冠歯車を使った歯面計算方法についてイワサテック辻さんの論文<sup>[3](#ref3)</sup>に非常に詳細に記載されています. 本記事ではこの論文の補足と実装方法の説明が主になる. 一応辻さんの論文がリンク切れ等で読めなくなった時の対策として必要な数式はこちらにも記載しておく. $E_{xb}$の定義など一部簡略化のためであったりモデリングのために原文と定義が異なっている部分がある, 最終的に目的(形状)に影響はないが, 厳密な意味は辻さん論文を正とする.  

## 言葉の定義
以下が以降の解説ででる用語の定義, pythonなので型はないがスカラーなのかベクトルなのか等が分かりやすいようにつけている. Autodesk Fusion APIの変数はここではださない.

### 歯車の諸元

歯直角モジュール$M_n$をベースとする方法もあるがここではPCDから計算する方法をとる. 

| 数式 | プログラム変数名 | 変数型 | 説明 |
|--------|------------------|--------|------|
| $z_g$ | Zg     | int  | ギアの歯数 |
| $z_p$ | Zp     | int  | ピニオンの歯数 |
| $\Sigma$ | sigma  | float  | 軸角度 deg, 基本90度 |
| $d_{g0}$ | PCDg | float | ギアの外側ピッチ円直径 mm |
| $d_{p0}$ | PCDp | float | ピニオンの外側ピッチ円直径 mm |
| $b$ | B | float | 歯幅 mm|
| $r_c$ | rc | float | カッタ半径 mm |
| $\alpha$ | alpha | float | 圧力角 deg |
| $\beta$ | beta | float | ねじれ角 deg |

### 諸元から計算される基本的な値

| 数式 | プログラム変数名 | 変数型 | 説明 |
|--------|------------------|--------|------|
| $i=\frac{z_g}{z_p}$ | i | float | 減速比 |
| $\delta_{g0}$ | delta_g0 | float | ギアのピッチ円すい角 deg |
| $\delta_{p0}$ | delta_p0 | float | ピニオンのピッチ円すい角 deg |
| $R_m$ | Rm | float | 仮想王冠歯車の平均円すい距離 |
| $R_e = R_m + \frac{B}{2} $ | Re | float | 仮想王冠歯車の外側ピッチ円すい距離 |
| $R_i = R_m - \frac{B}{2}$ | Ri | float | 仮想王冠歯車の内側ピッチ円すい距離 |
| $z_c$ | Zc     | int  | 仮想王冠歯車の歯数, 整数にならない |
| $z_0$ | Z0     | int  | カッタの条数, 通常5 |
| $M_d$ | Md | float | マシンディスタンス mm, セッティングされたカッタ中心と仮想王冠歯車中心の距離 |
| $q$ | q  | float | トロコイドの被転がり円の半径 mm |
| $r$ | r  | float | トロコイドの転がり円の半径 mm |
| $\nu_{R_m}$ | nu_Rm | float | 転がりの初期角度 deg |
| $E_{xb}$ | Exb | float | カッターの幅 mm, ラックの歯厚を表わす |



## サイクロパロイドの歯面計算方法

```mermaid
graph TD;
    A-->B;
    A-->C;
    B-->D;
    C-->D;
```

## Autodesk Fusionでのモデリング

### numpyのインストール

### APIでのサーフェス作成方法

### 歯車のモデリング

## おわりに

## 参考文献

1. <a id="ref1"></a>久保愛三, "歯車屋の見た世界", 三栄書房, 2023. [URL](https://shop.san-ei-corp.co.jp/magazine/detail.php?pid=12736)
2. <a id="ref2"></a>KLINGELNBERG, "KLINGELNBERG Drive Technology",  YouTube, 2018. [URL](https://www.youtube.com/watch?v=K5_ivdkRXp0&ab_channel=KLINGELNBERGGroup)
3. <a id="ref3"></a>辻勇, "交差軸歯車の歯当たり解析とマシニングセンタによる大形歯車製造への応用に関する研究", 東京工業大学, 2014. [URL](https://t2r2.star.titech.ac.jp/rrws/file/CTT100690032/ATD100000413/)